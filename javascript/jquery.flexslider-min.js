(function(b){b.flexslider=function(f,a){var e=f;e.init=function(){e.vars=b.extend({},b.flexslider.defaults,a);e.data("flexslider",true);e.container=b(".slides",e);e.slides=b(".slides > li",e);e.count=e.slides.length;e.animating=false;e.currentSlide=e.vars.slideToStart;e.animatingTo=e.currentSlide;e.atEnd=(e.currentSlide==0)?true:false;e.eventType=("ontouchstart" in document.documentElement)?"touchstart":"click";e.cloneCount=0;e.cloneOffset=0;e.manualPause=false;e.vertical=(e.vars.slideDirection=="vertical");e.prop=(e.vertical)?"top":"marginLeft";e.args={};e.transitions="webkitTransition" in document.body.style;if(e.transitions){e.prop="-webkit-transform"}if(e.vars.controlsContainer!=""){e.controlsContainer=b(e.vars.controlsContainer).eq(b(".slides").index(e.container));e.containerExists=e.controlsContainer.length>0}if(e.vars.manualControls!=""){e.manualControls=b(e.vars.manualControls,((e.containerExists)?e.controlsContainer:e));e.manualExists=e.manualControls.length>0}if(e.vars.randomize){e.slides.sort(function(){return(Math.round(Math.random())-0.5)});e.container.empty().append(e.slides)}if(e.vars.animation.toLowerCase()=="slide"){if(e.transitions){e.setTransition(0)}e.css({overflow:"hidden"});if(e.vars.animationLoop){e.cloneCount=2;e.cloneOffset=1;e.container.append(e.slides.filter(":first").clone().addClass("clone")).prepend(e.slides.filter(":last").clone().addClass("clone"))}e.newSlides=b(".slides > li",e);var F=(-1*(e.currentSlide+e.cloneOffset));if(e.vertical){e.newSlides.css({display:"block",width:"100%","float":"left"});e.container.height((e.count+e.cloneCount)*200+"%").css("position","absolute").width("100%");setTimeout(function(){e.css({position:"relative"}).height(e.slides.filter(":first").height());e.args[e.prop]=(e.transitions)?"translate3d(0,"+F*e.height()+"px,0)":F*e.height()+"px";e.container.css(e.args)},100)}else{e.args[e.prop]=(e.transitions)?"translate3d("+F*e.width()+"px,0,0)":F*e.width()+"px";e.container.width((e.count+e.cloneCount)*200+"%").css(e.args);setTimeout(function(){e.newSlides.width(e.width()).css({"float":"left",display:"block"})},100)}}else{e.transitions=false;e.slides.css({width:"100%","float":"left",marginRight:"-100%"}).eq(e.currentSlide).fadeIn(e.vars.animationDuration)}if(e.vars.controlNav){if(e.manualExists){e.controlNav=e.manualControls}else{var L=b('<ol class="flex-control-nav"></ol>');var z=1;for(var y=0;y<e.count;y++){L.append("<li><a>"+z+"</a></li>");z++}if(e.containerExists){b(e.controlsContainer).append(L);e.controlNav=b(".flex-control-nav li a",e.controlsContainer)}else{e.append(L);e.controlNav=b(".flex-control-nav li a",e)}}e.controlNav.eq(e.currentSlide).addClass("active");e.controlNav.bind(e.eventType,function(g){g.preventDefault();if(!b(this).hasClass("active")){(e.controlNav.index(b(this))>e.currentSlide)?e.direction="next":e.direction="prev";e.flexAnimate(e.controlNav.index(b(this)),e.vars.pauseOnAction)}})}if(e.vars.directionNav){var i=b('<ul class="flex-direction-nav"><li><a class="prev" href="#">'+e.vars.prevText+'</a></li><li><a class="next" href="#">'+e.vars.nextText+"</a></li></ul>");if(e.containerExists){b(e.controlsContainer).append(i);e.directionNav=b(".flex-direction-nav li a",e.controlsContainer)}else{e.append(i);e.directionNav=b(".flex-direction-nav li a",e)}if(!e.vars.animationLoop){if(e.currentSlide==0){e.directionNav.filter(".prev").addClass("disabled")}else{if(e.currentSlide==e.count-1){e.directionNav.filter(".next").addClass("disabled")}}}e.directionNav.bind(e.eventType,function(h){h.preventDefault();var g=(b(this).hasClass("next"))?e.getTarget("next"):e.getTarget("prev");if(e.canAdvance(g)){e.flexAnimate(g,e.vars.pauseOnAction)}})}if(e.vars.keyboardNav&&b("ul.slides").length==1){function I(h){if(e.animating){return}else{if(h.keyCode!=39&&h.keyCode!=37){return}else{if(h.keyCode==39){var g=e.getTarget("next")}else{if(h.keyCode==37){var g=e.getTarget("prev")}}if(e.canAdvance(g)){e.flexAnimate(g,e.vars.pauseOnAction)}}}}b(document).bind("keyup",I)}if(e.vars.mousewheel){e.mousewheelEvent=(/Firefox/i.test(navigator.userAgent))?"DOMMouseScroll":"mousewheel";e.bind(e.mousewheelEvent,function(k){k.preventDefault();k=k?k:window.event;var h=k.detail?k.detail*-1:k.wheelDelta/40,g=(h<0)?e.getTarget("next"):e.getTarget("prev");if(e.canAdvance(g)){e.flexAnimate(g,e.vars.pauseOnAction)}})}if(e.vars.slideshow){if(e.vars.pauseOnHover&&e.vars.slideshow){e.hover(function(){e.pause()},function(){if(!e.manualPause){e.resume()}})}e.animatedSlides=setInterval(e.animateSlides,e.vars.slideshowSpeed)}if(e.vars.pausePlay){var B=b('<div class="flex-pauseplay"><span></span></div>');if(e.containerExists){e.controlsContainer.append(B);e.pausePlay=b(".flex-pauseplay span",e.controlsContainer)}else{e.append(B);e.pausePlay=b(".flex-pauseplay span",e)}var E=(e.vars.slideshow)?"pause":"play";e.pausePlay.addClass(E).text((E=="pause")?e.vars.pauseText:e.vars.playText);e.pausePlay.bind(e.eventType,function(g){g.preventDefault();if(b(this).hasClass("pause")){e.pause();e.manualPause=true}else{e.resume();e.manualPause=false}})}if("ontouchstart" in document.documentElement){var d,j,G,A,D,c,C=false;e.each(function(){if("ontouchstart" in document.documentElement){this.addEventListener("touchstart",J,false)}});function J(g){if(e.animating){g.preventDefault()}else{if(g.touches.length==1){e.pause();A=(e.vertical)?e.height():e.width();c=Number(new Date());G=(e.vertical)?(e.currentSlide+e.cloneOffset)*e.height():(e.currentSlide+e.cloneOffset)*e.width();d=(e.vertical)?g.touches[0].pageY:g.touches[0].pageX;j=(e.vertical)?g.touches[0].pageX:g.touches[0].pageY;e.setTransition(0);this.addEventListener("touchmove",H,false);this.addEventListener("touchend",K,false)}}}function H(g){D=(e.vertical)?d-g.touches[0].pageY:d-g.touches[0].pageX;C=(e.vertical)?(Math.abs(D)<Math.abs(g.touches[0].pageX-j)):(Math.abs(D)<Math.abs(g.touches[0].pageY-j));if(!C){g.preventDefault();if(e.vars.animation=="slide"&&e.transitions){if(!e.vars.animationLoop){D=D/((e.currentSlide==0&&D<0||e.currentSlide==e.count-1&&D>0)?(Math.abs(D)/A+2):1)}e.args[e.prop]=(e.vertical)?"translate3d(0,"+(-G-D)+"px,0)":"translate3d("+(-G-D)+"px,0,0)";e.container.css(e.args)}}}function K(g){e.animating=false;if(e.animatingTo==e.currentSlide&&!C&&!(D==null)){var h=(D>0)?e.getTarget("next"):e.getTarget("prev");if(e.canAdvance(h)&&Number(new Date())-c<550&&Math.abs(D)>20||Math.abs(D)>A/2){e.flexAnimate(h,e.vars.pauseOnAction)}else{e.flexAnimate(e.currentSlide,e.vars.pauseOnAction)}}this.removeEventListener("touchmove",H,false);this.removeEventListener("touchend",K,false);d=null;j=null;D=null;G=null}}if(e.vars.animation.toLowerCase()=="slide"){b(window).resize(function(){if(!e.animating){if(e.vertical){e.height(e.slides.filter(":first").height());e.args[e.prop]=(-1*(e.currentSlide+e.cloneOffset))*e.slides.filter(":first").height()+"px";if(e.transitions){e.setTransition(0);e.args[e.prop]=(e.vertical)?"translate3d(0,"+e.args[e.prop]+",0)":"translate3d("+e.args[e.prop]+",0,0)"}e.container.css(e.args)}else{e.newSlides.width(e.width());e.args[e.prop]=(-1*(e.currentSlide+e.cloneOffset))*e.width()+"px";if(e.transitions){e.setTransition(0);e.args[e.prop]=(e.vertical)?"translate3d(0,"+e.args[e.prop]+",0)":"translate3d("+e.args[e.prop]+",0,0)"}e.container.css(e.args)}}})}e.vars.start(e)};e.flexAnimate=function(c,d){if(!e.animating){e.animating=true;e.animatingTo=c;e.vars.before(e);if(d){e.pause()}if(e.vars.controlNav){e.controlNav.removeClass("active").eq(c).addClass("active")}e.atEnd=(c==0||c==e.count-1)?true:false;if(!e.vars.animationLoop&&e.vars.directionNav){if(c==0){e.directionNav.removeClass("disabled").filter(".prev").addClass("disabled")}else{if(c==e.count-1){e.directionNav.removeClass("disabled").filter(".next").addClass("disabled")}else{e.directionNav.removeClass("disabled")}}}if(!e.vars.animationLoop&&c==e.count-1){e.pause();e.vars.end(e)}if(e.vars.animation.toLowerCase()=="slide"){var h=(e.vertical)?e.slides.filter(":first").height():e.slides.filter(":first").width();if(e.currentSlide==0&&c==e.count-1&&e.vars.animationLoop&&e.direction!="next"){e.slideString="0px"}else{if(e.currentSlide==e.count-1&&c==0&&e.vars.animationLoop&&e.direction!="prev"){e.slideString=(-1*(e.count+1))*h+"px"}else{e.slideString=(-1*(c+e.cloneOffset))*h+"px"}}e.args[e.prop]=e.slideString;if(e.transitions){e.setTransition(e.vars.animationDuration);e.args[e.prop]=(e.vertical)?"translate3d(0,"+e.slideString+",0)":"translate3d("+e.slideString+",0,0)";e.container.css(e.args).one("webkitTransitionEnd transitionend",function(){e.wrapup(h)})}else{e.container.animate(e.args,e.vars.animationDuration,function(){e.wrapup(h)})}}else{e.slides.eq(e.currentSlide).fadeOut(e.vars.animationDuration);e.slides.eq(c).fadeIn(e.vars.animationDuration,function(){e.wrapup()})}}};e.wrapup=function(c){if(e.vars.animation=="slide"){if(e.currentSlide==0&&e.animatingTo==e.count-1&&e.vars.animationLoop){e.args[e.prop]=(-1*e.count)*c+"px";if(e.transitions){e.setTransition(0);e.args[e.prop]=(e.vertical)?"translate3d(0,"+e.args[e.prop]+",0)":"translate3d("+e.args[e.prop]+",0,0)"}e.container.css(e.args)}else{if(e.currentSlide==e.count-1&&e.animatingTo==0&&e.vars.animationLoop){e.args[e.prop]=-1*c+"px";if(e.transitions){e.setTransition(0);e.args[e.prop]=(e.vertical)?"translate3d(0,"+e.args[e.prop]+",0)":"translate3d("+e.args[e.prop]+",0,0)"}e.container.css(e.args)}}}e.animating=false;e.currentSlide=e.animatingTo;e.vars.after(e)};e.animateSlides=function(){if(!e.animating){e.flexAnimate(e.getTarget("next"))}};e.pause=function(){clearInterval(e.animatedSlides);if(e.vars.pausePlay){e.pausePlay.removeClass("pause").addClass("play").text(e.vars.playText)}};e.resume=function(){e.animatedSlides=setInterval(e.animateSlides,e.vars.slideshowSpeed);if(e.vars.pausePlay){e.pausePlay.removeClass("play").addClass("pause").text(e.vars.pauseText)}};e.canAdvance=function(c){if(!e.vars.animationLoop&&e.atEnd){if(e.currentSlide==0&&c==e.count-1&&e.direction!="next"){return false}else{if(e.currentSlide==e.count-1&&c==0&&e.direction=="next"){return false}else{return true}}}else{return true}};e.getTarget=function(c){e.direction=c;if(c=="next"){return(e.currentSlide==e.count-1)?0:e.currentSlide+1}else{return(e.currentSlide==0)?e.count-1:e.currentSlide-1}};e.setTransition=function(c){e.container.css({"-webkit-transition-duration":(c/1000)+"s"})};e.init()};b.flexslider.defaults={animation:"fade",slideDirection:"horizontal",slideshow:true,slideshowSpeed:7000,animationDuration:600,directionNav:true,controlNav:true,keyboardNav:true,mousewheel:false,prevText:"Previous",nextText:"Next",pausePlay:false,pauseText:"Pause",playText:"Play",randomize:false,slideToStart:0,animationLoop:true,pauseOnAction:true,pauseOnHover:false,controlsContainer:"",manualControls:"",start:function(){},before:function(){},after:function(){},end:function(){}};b.fn.flexslider=function(a){return this.each(function(){if(b(this).find(".slides li").length==1){b(this).find(".slides li").fadeIn(400)}else{if(b(this).data("flexslider")!=true){new b.flexslider(b(this),a)}}})}})(jQuery);